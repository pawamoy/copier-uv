[project]
site_name = "{{ project_name }}"
site_description = "{{ project_description }}"
site_author = "{{ author_fullname }}"
site_url = "https://{{ repository_namespace }}.{{ repository_provider.rsplit('.', 1)[0] }}.io/{{ repository_name }}"
repo_url = "https://{{ repository_provider }}/{{ repository_namespace }}/{{ repository_name }}"
repo_name = "{{ repository_namespace }}/{{ repository_name }}"
copyright = "Copyright &copy; {{ copyright_date }} {{ copyright_holder }}"
extra_css = ["css/apidocs.css"]
extra_javascript = ["js/feedback.js"]
nav = [
  { "Home" = [
    { "Overview" = "index.md" },
    { "Changelog" = "changelog.md" },
    { "Credits" = "credits.md" },
    { "License" = "license.md" },
  ] },
  { "API reference" = "reference/api.md" },
  { "Development" = [
    { "Contributing" = "contributing.md" },
    { "Code of Conduct" = "code_of_conduct.md" },
    {#- TODO: Add coverage report again when Zensical supports it. #}
  ] },
{%- if author_username == "pawamoy" %}
  { "Author's website" = "https://pawamoy.github.io" },
{%- endif %}
]

# ----------------------------------------------------------------------------
# Theme configuration
# ----------------------------------------------------------------------------
[project.theme]
custom_dir = "docs/.overrides"
language = "en"
features = [
    "announce.dismiss",
    "content.action.edit",
    "content.action.view",
    "content.code.annotate",
    "content.code.copy",
    "content.code.select",
    "content.footnote.tooltips",
    "content.tabs.link",
    "content.tooltips",
    "navigation.footer",
    "navigation.indexes",
    "navigation.instant",
    "navigation.instant.prefetch",
    "navigation.path",
    "navigation.sections",
    "navigation.tabs",
    "navigation.tabs.sticky",
    "navigation.top",
    "search.highlight",
    "toc.follow",
]

[[project.theme.palette]]
media = "(prefers-color-scheme)"
toggle.icon = "material/brightness-auto"
toggle.name = "Switch to light mode"

[[project.theme.palette]]
media = "(prefers-color-scheme: light)"
scheme = "default"
primary = "teal"
accent = "purple"
toggle.icon = "material/weather-sunny"
toggle.name = "Switch to dark mode"

[[project.theme.palette]]
media = "(prefers-color-scheme: dark)"
scheme = "slate"
primary = "black"
accent = "line"
toggle.icon = "material/weather-night"
toggle.name = "Switch to system preference"

{% if author_username == "pawamoy" -%}
[project.theme.icon]
logo = "material/currency-sign"

{% endif -%}
# ----------------------------------------------------------------------------
# Social configuration
# ----------------------------------------------------------------------------
[[project.extra.social]]
icon = "fontawesome/brands/{{ repository_provider.rsplit(".", 1)[0] }}"
link = "https://{{ repository_provider }}/{{ author_username }}"

{% if author_username == "pawamoy" -%}
[[project.extra.social]]
icon = "fontawesome/brands/mastodon"
link = "https://fosstodon.org/@{{ author_username }}"

{% endif -%}
[[project.extra.social]]
icon = "fontawesome/brands/twitter"
link = "https://twitter.com/pawamoy"

[[project.extra.social]]
icon = "fontawesome/brands/gitter"
link = "https://gitter.im/{{ repository_name }}/community"

[[project.extra.social]]
icon = "fontawesome/brands/python"
link = "https://pypi.org/project/{{ python_package_distribution_name }}/"

[project.extra.analytics.feedback]
title = "Was this page helpful?"

[[project.extra.analytics.feedback.ratings]]
icon = "material/emoticon-happy-outline"
name = "This page was helpful"
data = 1
note = "Thank you for your feedback!"

[[project.extra.analytics.feedback.ratings]]
icon = "material/emoticon-sad-outline"
name = "This page could be improved"
data = 0
note = "Let us know how we can improve this page."

# ----------------------------------------------------------------------------
# Markdown extensions configuration
# ----------------------------------------------------------------------------
[project.markdown_extensions.abbr]
[project.markdown_extensions.admonition]
[project.markdown_extensions.attr_list]
[project.markdown_extensions.def_list]
[project.markdown_extensions.footnotes]
[project.markdown_extensions.md_in_html]
[project.markdown_extensions.toc]
permalink = {% if author_username == "pawamoy" %}"Â¤"{% else %}true{% endif %}
[project.markdown_extensions.pymdownx.arithmatex]
generic = true
[project.markdown_extensions.pymdownx.betterem]
smart_enable = "all"
[project.markdown_extensions.pymdownx.caret]
[project.markdown_extensions.pymdownx.details]
[project.markdown_extensions.pymdownx.emoji]
emoji_generator = "zensical.extensions.emoji.to_svg"
emoji_index = "zensical.extensions.emoji.twemoji"
[project.markdown_extensions.pymdownx.highlight]
[project.markdown_extensions.pymdownx.inlinehilite]
[project.markdown_extensions.pymdownx.keys]
[project.markdown_extensions.pymdownx.mark]
[project.markdown_extensions.pymdownx.smartsymbols]
[project.markdown_extensions.pymdownx.snippets]
check_paths = true
[project.markdown_extensions.pymdownx.superfences]
[[project.markdown_extensions.pymdownx.superfences.custom_fences]]
name = "python"
class = "python"
validator = "markdown_exec.validator"
format = "markdown_exec.formatter"
[project.markdown_extensions.pymdownx.tabbed]
alternate_style = true
[project.markdown_extensions.pymdownx.tasklist]
custom_checkbox = true
[project.markdown_extensions.pymdownx.tilde]
[project.markdown_extensions.zensical.extensions.preview]
configurations = [{targets.include = ["reference/api.md"]}]

# ----------------------------------------------------------------------------
# Plugins configuration
# ----------------------------------------------------------------------------
{#- TODO: Provide llms.txt files again when Zensical supports it. #}
[project.plugins.mkdocstrings.handlers.python]
paths = ["src"]
inventories = ["https://docs.python.org/3/objects.inv"]

[project.plugins.mkdocstrings.handlers.python.options]
backlinks = "tree"
docstring_options = { "ignore_init_summary" = true }
docstring_section_style = "list"
filters = "public"
heading_level = 1
inherited_members = true
merge_init_into_class = true
parameter_headings = true
separate_signature = true
show_root_heading = true
show_root_full_path = false
show_signature_annotations = true
show_source = true
show_symbol_type_heading = true
show_symbol_type_toc = true
signature_crossrefs = true
summary = true
unwrap_annotated = true
